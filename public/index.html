<!Doctype html>
<html>
	<head No Wrap>
		<title>Product Search</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-animate.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.4/angular-material.min.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-svg-round-progressbar/0.4.8/roundProgress.min.js"></script>
		<script src="http://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.10.0.js"></script>
		<link rel = "stylesheet" href = "https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.css">

		<script src="./myAngular.js"></script>

	</head>
	<!--AB8840-->
	<style type="text/css">
				
		.imageBorders {
			border: 10px solid black;
		}

		.modalImageBorders {
			border: 6px solid black;
			padding:1%;
		}

		.redStar{
			color: red;
		}

		.greenStyle{
			color: green;
		}

		.zipCodeStyle {
			margin-left: 20%;
		}

		.outerFormDiv {
			padding-left: 100px;
		}

		.formTabs {
			text-align: center;
		}

		.column {
			-ms-flex : 33%;
			flex: 33%;
			max-width: 33%;
			padding: 0 5px;
			color:blue;
		}

		.column img {
			margin-top: 8px;
			vertical-align: middle;
		}


		@media screen and (max-width:414px){
			.column{
				-ms-flex: 100%;
				flex: 100%;
				max-width: 100%;
			}
		}

		.modalHeight {
			height : 100%;
			width : 100%;
		}

		.previous, .next {
		  cursor: pointer;
		  position: absolute;
		  top: 50%;
		  width: auto;
		  padding: 16px;
		  margin-top: -22px;
		  color: black;
		  font-weight: bold;
		  font-size: 18px;
		  transition: 0.6s ease;
		  border-radius: 0 3px 3px 0;
		  user-select: none;
		}
		.next {
 			right: 0;
			border-radius: 3px 0 0 3px;
		}

		.mySlides {
			display: block;
			width: 420px;
			height:300px;
		}

		.table-hover tr:hover{
			background-color: #808080;
		}

		@media only screen and (max-width: 414px) {
  			.prev, .next {font-size: 11px}
		}

		.selectedRow{
			background-color: #C0C0C0 !important;
		}

		.outerDivStyle {
			width : 80%;
			margin: 0 auto;
		}

		.tableStyle {
			width:100%;
			margin:0 auto;
		}

		th[colspan = "2"] {
			text-align:center;
		}

		.progress-wrapper {
		  position: relative;
		  margin: 20px auto;
		}

		.currentDouble {
		  position: absolute;
		  padding-left: 5px;
		  padding-top: 5px;
		}

		.currentDouble {
		  position: absolute;
		  padding-left: 8px;
		  padding-top: 8px;
		}

		round-progress {
		  margin: auto;
		}

		/*.pagination {
		  display: inline-block;
		}*/

		.pagination a {
		  color: black;
		  padding: 8px 16px;
		  text-decoration: none;
		}

		.pagination a.active {
		  background-color: blue;
		  color: black;
		}

		.pagination a:hover:not(.active) {
			background-color: #ddd;
			text-decoration:underline;
		}



		.whiteLink{
			color:white;
		}

		.largeScreen {
			display: inline-block;
		}

		.smallScreen {
			display:none;
		}

		.blackLink{
			color:black;
		}

		.blackLink:hover{
			color:black;
		}

		.whiteLink:hover{
			color:white;
		}

		.activePage {
			background-color: black;
			color:white;

		}

		ul#menu li{
			display:inline-block;
		}

		.marginForm {
			margin-left:20%;
		}
		.disableList{
			color:#C8C8C8;
		}
		.disableList:hover{
			text-decoration: none;
		}

		.imageStyle {
			width:150px;
			height:150px;
		}
		.smallScreen{
			display: none;
		}
		.marginForPagination{
			margin-left:35%;
		}

		

		.imageSize{
			height: 170px;
			width: 170px;
		}

		.wrapper{
			position: relative;
			overflow: hidden;
			width: 100%;
			height: 100%;
		}

		.slideIn{
			position: absolute;
			left: -200px;
			background:blue;
			transition:5s;
		}

		.marginLeftForLabelDesktop, .marginRadio{
			margin-left:-1.4%;
		}

		.zipCodeStyle{
			margin-left: 0;
		}

		.marginForError{
			margin-left:33%;
		}

		@media only screen and (max-width: 414px){
			.whiteSpaceForProducts{
				white-space: normal !important
			}

			.marginForError{
				margin-left:1% !important;
			}
			.outerDivStyle{
				width:95%;
				margin:0 auto;
			}
			.tableStyle{
				width: 100%;
				margin:0 auto;
			}
			.marginForm{
				margin-left: 2%;
			}
			.imageStyle{
				width:80px;
				height:80px;
				object-fit:cover;
			}
			.marginForPagination{
				margin-left:-6%;
			}
			.largeScreen{
				display:none;
			}
			.smallScreen{
				display:inline-block;
			}
			
			.paddingNavs{
				padding:1px;
			}
			.imageSize{
				height:120px;
				width:120px;
			}
			.marginLeftForLabel, .marginLeftForLabelDesktop, .buttonMargin{
				margin-left:-5%;
			}
			.marginRadio{
				margin-left:0px;
			}
			.zipCodeStyle{
				margin-left: -5%;
			}
			.mobileFormMargin{
				margin-left:5%;
			}
			.marginForText{
				margin-left:3%;
			}
			.marginForCheck{
				margin-left:0.6%;
			}

		}

		.cartIcon{
			color: #AB9140;
		}

		td{
			white-space: nowrap;
		}

		
		.animate-hide {
			-webkit-transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) 0.5s;
			-moz-transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) 0.5s;
			-o-transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) 0.5s;
			transition:all cubic-bezier(0.250, 0.460, 0.450, 0.940) 0.5s;
			opacity:1;
			position: absolute;
			left: 20%;
		}

		.animate-hide.ng-hide {
			left: -100%;
			opacity:0;
			padding:0 10px;
		}

		.slideDivs {
			transition: all linear 0.4s;
			width: 100%;
			position: relative;
			left: 0;
		}

		.slideDivs.ng-hide {
			width: 0;
  			left: 2500px;
		}


	</style>
	<script type="text/javascript">

		function resultButton(){
			var resultButtonVar = document.getElementById("result").classList;
			var wishListButtonVar = document.getElementById("wishList").classList;
			if(resultButtonVar.contains("btn-light")){
				resultButtonVar.remove("btn-light");
				resultButtonVar.add("btn-dark");
				wishListButtonVar.remove("btn-dark");
				wishListButtonVar.add("btn-light");
			}
			changeColorOfTab('productsTab', 'productLink');
		}

		function wishListButton(){
			var resultButtonVar = document.getElementById("result").classList;
			var wishListButtonVar = document.getElementById("wishList").classList;
			if(wishListButtonVar.contains("btn-light")){
				resultButtonVar.remove("btn-dark");
				resultButtonVar.add("btn-light");
				wishListButtonVar.remove("btn-light");
				wishListButtonVar.add("btn-dark");
			}
			changeColorOfTab('productsTab', 'productLink');
		}

		function changeColorOfTab(tabId, linkId){
			var productTab = document.getElementById("productsTab");
			var photosTab = document.getElementById("photosTab");
			var shippingTab = document.getElementById("shippingTab");
			var sellerTab = document.getElementById("sellerTab");
			var similarItemsTab = document.getElementById("similarItemsTab");
			
			var productLink = document.getElementById("productLink");
			var photosLink = document.getElementById("photosLink");
			var shippingLink = document.getElementById("shippingLink");
			var sellerLink = document.getElementById("sellerLink");
			//var similarItemsLink = ;
			//var relatedItemsLink = ;
			var width = window.innerWidth;
			if(width < 500)
				var arrayOfTabs = [productTab, photosTab, shippingTab, sellerTab, similarItemsTab, productLink, photosLink, shippingLink, sellerLink, document.getElementById("relatedItemsLink")];
			else
				var arrayOfTabs = [productTab, photosTab, shippingTab, sellerTab, similarItemsTab, productLink, photosLink, shippingLink, sellerLink, document.getElementById("similarItemsLink")];

			/*if(similarItemsLink !== undefined || similarItemsLink !== null)
				var arrayOfTabs = [productTab, photosTab, shippingTab, sellerTab, similarItemsTab, productLink, photosLink, shippingLink, sellerLink, similarItemsLink];
			else
				var arrayOfTabs = [productTab, photosTab, shippingTab, sellerTab, similarItemsTab, productLink, photosLink, shippingLink, sellerLink, relatedItemsLink];*/

			for(var i = 0; i < arrayOfTabs.length; i++){
				if(arrayOfTabs[i] !== null){
					if(arrayOfTabs[i].classList.contains("bg-dark")){
						arrayOfTabs[i].classList.remove("bg-dark");
						arrayOfTabs[i].classList.add("bg-light");
					}
					if(arrayOfTabs[i].classList.contains("whiteLink")){
						arrayOfTabs[i].classList.remove("whiteLink");
						arrayOfTabs[i].classList.add("blackLink");
					}
				}
			}
			var changeTab = document.getElementById(tabId);
			var changeLink = document.getElementById(linkId);
			if(changeTab != null){
				changeTab.classList.remove("bg-light");
				changeTab.classList.add("bg-dark");
				changeLink.classList.remove("blackLink");
				changeLink.classList.add("whiteLink");	
			}
			
		}

	</script>

	<body ng-app="EbayProductSearch" ng-controller="mainController">
		<script>
		  window.fbAsyncInit = function() {
		    FB.init({
		      appId            : '2052807138130016',
		      autoLogAppEvents : true,
		      xfbml            : true,
		      version          : 'v3.2'
		    });
		  };
		</script>
		<script async defer src="https://connect.facebook.net/en_US/sdk.js"></script>
		<br>
		<div class = "container bg-dark text-white">
			<br>
			<h2 class = "text-center"><b>Product Search</b></h2><br>
			<form name = "formName" id = "ProductSearchForm" class = "form-horizontal bg-dark text-white" ng-submit = "productSearch()" ng-model = "formName">
				
				<!--div class = "form-group row justify-content-left">
					<label class = "control-label col-sm-2 marginLeftForLabel" for = "productKeyword">Keyword<span class = "redStar">*</span></label>
					<input type = "text" name = "Keyword" id="Keyword" placeholder = "Enter Product Name (eg. iPhone 8)" ng-model = "Keyword" class = "col-sm-6" required>
					<br>
					<span ng-show = "formName.Keyword.$touched && formName.Keyword.$invalid" class = "redStar zipCodeStyle" class = "col-sm-4" style = "display:block" >Please enter a keyword</span>
				</div-->

				<div class = "form-group row justify-content-left">
					<label class = "control-label offset-sm-2 col-sm-2" for = "productKeyword">Keyword<span class = "redStar">*</span></label>
					<input type = "text" name = "Keyword" id="Keyword" placeholder = "Enter Product Name (eg. iPhone 8)" ng-model = "Keyword" class = "col-sm-6 marginForText" required>
					<br>
					
				</div>
				<span ng-show = "formName.Keyword.$touched && formName.Keyword.$invalid" class = "redStar zipCodeStyle marginForError" style = "display:block; margin-top:-1.5%; margin-bottom:1%">Please enter a keyword</span>

				<div class = "form-group row justify-content-left">
					<label class = "control-label col-sm-2 offset-sm-2" for = "Category">Category</label>
						<select name = "Category" ng-model = "Category" id = "categoryId" class = "col-sm-4 custom-select marginForText">
							<option value = "AllCategories" selected="selected">All Categories</option>
							<option value = "550">Art</option>
							<option value = "2984">Baby</option>
							<option value = "267">Books</option>
							<option value = "11450">Clothing, Shoes and Accessories</option>
							<option value = "58058">Computers/Tablets and Networking</option>
							<option value = "26395">Health and Beauty</option>
							<option value = "11233">Music</option>
							<option value = "1249">Video Games and Consoles</option>
						</select>
					<br>
				</div>

				<div class = "form-group row justify-content-left">
					<label class = "control-label col-sm-2 offset-sm-2">Condition</label>
					<div class = "col-sm-6 marginLeftForLabelDesktop marginForCheck">
						<input type = "checkbox" id = "NewCheck" name = "ConditionNew" value = "New" ng-model = "ConditionNew">&nbsp;New&nbsp;&nbsp;&nbsp;
						<input type = "checkbox" id = "UsedCheck" name = "ConditionUsed" value ="Used" ng-model = "ConditionUsed">&nbsp;Used&nbsp;&nbsp;&nbsp;
						<input type = "checkbox" id = "UnspecifiedCheck" name = "ConditionUnspecified" value = "Unspecified" ng-model = "ConditionUnspecified">&nbsp; Unspecified
					</div>
					<br>
				</div>

				<div class = "form-group row justify-content-left">
					<label class = "control-label col-sm-2 offset-sm-2">Shipping Options</label>
					<div class = "col-sm-6 marginLeftForLabelDesktop marginForCheck">
						<input type = "checkbox" id = "LocalPickUpCheck" name = "LocalPickupOnly" value = "LocalPickupOnly" ng-model = "LocalPickupOnly">&nbsp;Local Pickup &nbsp; &nbsp; &nbsp;
						<input type = "checkbox" id = "FreeShippingCheck" name = "FreeShippingOnly" value = "FreeShippingOnly" ng-model = "FreeShippingOnly">&nbsp;Free Shipping
					</div>
					<br>
				</div>

				<div class = "form-group row justify-content-left">
					<label class = "control-label col-sm-2 offset-sm-2" for = "milesFrom">Distance(Miles)</label>
					<input type = "text" name = "milesFrom" id = "milesFrom" placeholder = "10" class="miles col-md-1 col-sm-12 marginForText" ng-model = "milesFromText">
				</div>

				<div class = "form-group row justify-content-left">
					<label class = "control-label col-sm-2 offset-sm-2">From<span class = "redStar">*</span></label>
					<div class = "col-sm-6 marginRadio marginForText">
						<input type = "radio" name = "distance" id = "currentLocation" ng-model = "distance" checked class = "marginLeftForLabel" value = "currentLocation">&nbsp;Current Location<br>
						<input type = "radio" name = "distance" id = "zipCodeLocation" ng-model = "distance" value = "zipCodeLocation" class = "marginLeftForLabel">&nbsp;Other, Please specify zip code:<br>
						<!--input type = "text" id = "zipCode" name = "zipCode" ng-model = "zipCode" ng-minlength = "5" ng-checked = "zipCodeRadio" ng-keyup = "autocomplete()" required disabled><br-->
					    <div class = "zipCodeStyle">
						    <md-autocomplete
						    	id = "zipCode"	
						    	md-input-name = "zipCode"
						    	ng-disabled = "distance === 'currentLocation'"
						        required = "true"
						        md-search-text="searchTxt"
						        md-selected-item-change = "setZipCode(searchTxt)"
						        md-items="item in autocomplete(searchTxt)"
						        md-item-text="item.postalCode"
						        md-min-length="0"
						        md-delay="100"
						        md-clear-button = "false"
						        md-mode = "standard"
						        md-dropdown-position="bottom">
							    <md-item-template>
							        <span md-highlight-text="searchTxt" md-highlight-flags="^i">{{item.postalCode}}</span>
							    </md-item-template>
							    <md-not-found>
							       No results
							    </md-not-found>
							</md-autocomplete>
						</div>
						<span ng-show = "formName.zipCode.$touched && formName.zipCode.$invalid && distance == 'zipCodeLocation' && formName.zipCode.$error.required" class = "redStar zipCodeStyle">Please enter a zip code.</span>
						<script>
					    	$(function() {
							    window.invalidate_input = function() {
							        if ($('input[name=distance]:checked').val() == "No")
							            $('#autocompleteZipCode').removeAttr('disabled');
							        else
							            $('#autocompleteZipCode').attr('disabled', 'disabled');
							    };

							    $("input[name=distance]").change(invalidate_input);

							    invalidate_input();
							});

					    	function enableDisableZipCode(){
					    		console.log("In enable disable zip code");
					    	}
					    </script>
					    <br>
						
				</div>
				</div>

				<div class = "form-group buttonMargin offset-sm-2">
					<button type="submit" name = "Submit" id = "Search" value = "Search" class = "btn btn-light marginForText" ng-disabled="(formName.Keyword.$touched && formName.Keyword.$invalid) || formName.Keyword.$invalid || formName.Keyword.$viewValue === '' || hiddenUserLocation == undefined || (validZipCode == false && distance == 'zipCodeLocation') || (formName.zipCode.$touched && formName.zipCode.$invalid && distance == 'zipCodeLocation' && formName.zipCode.$error)" onclick = "resultButton()"><i class="material-icons">search</i>Search</button>
					<button type = "reset" class = "btn btn-light" ng-click = "reset()" onclick = "resultButton()"><i class = "material-icons">clear_all</i>Clear</button>
				</div>

				<br>
			</form>
		</div><br>


		<div class = "formTabs">
			<button id = "result" name = "result" class = "btn btn-dark" onclick = "resultButton()" ng-click = "results()" ng-model = "products">Results</button>
			<button id = "wishList" name = "wishList" class = "btn btn-light" onclick = "wishListButton()" ng-click = "wishList()" ng-model = "wish">Wish List</button>
			<br><br>	
		</div>

		<div ng-class = "{wrapper : slideInStyle === true}">
			<div ng-if = "showProgressBar == true" class="container" ng-class = "{slideIn : slideInStyle === true}">
				<div class="progress" ng-class = "{slideIn : slideInStyle === true}">
					<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width:50%">
					</div>
				</div>
			</div>
		</div>
		
		<div id="one" class='container animate-hide' ng-hide="!showAnimatedProgressBar"> 
            <div class = "progress" ng-hide = "stopAnimation">
            	<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width:50%">
				</div>
            </div>
		</div>
		<br><br>

		<div class = "outerDivStyle">
			
			<div ng-if = "showResultsTable == true || wishListItemsAvailable == true" class = "slideDivs" ng-hide = "FirstToSecond">
				<div ng-init = "products" ng-if = "products.length > 0" ng-show = "showResultsTable == true" id = "resultsTable">
					<div class = "float-right">
						<button type = "button" class = "btn btn-light" ng-disabled = "isProductClicked == false" ng-click = "detailButtonClicked('results')">Detail<i class="material-icons">keyboard_arrow_right</i></button> 
					</div>
					<br><br>
					<div class = "table-responsive">
						<table class = "table table-dark table-striped table-hover" class = "tableStyle">
							<thead>
								<tr>
									<td><b>#</b></td>
									<td><b>Image</b></td>
									<td><b>Title</b></td>
									<td><b>Price</b></td>
									<td><b>Shipping</b></td>
									<td><b>Zip</b></td>
									<td><b>Seller</b></td>
									<td><b>Wish List</b></td>
								</tr>
							</thead>
							<tr ng-repeat = "detail in products | limitTo : itemsPerPage : ((currentPage-1)*itemsPerPage)" ng-class = "{selectedRow : detail.itemId[0] === resultsItemId}">
								<td>{{((currentPage - 1) * itemsPerPage) + ($index+1)}}</td>
								<td><a ng-if = "detail.galleryURL !== undefined" target = "_blank" href = "{{detail.galleryURL[0]}}"><img ng-src = "{{detail.galleryURL[0]}}" class = "imageStyle"></a>
								<a ng-if = "detail.galleryURL == undefined" href>N/A</a></td>
								<td><a href ng-click = "productClicked(detail, 'results')" data-toggle = "tooltip" title = "{{detail.title[0]}}" data-placement = "bottom" onmouseover = "$(this).tooltip()">{{detail.modifiedTitle}}</a></td>
								<td>${{detail.sellingStatus[0].currentPrice[0].__value__}}</td>
								<td ng-if = "detail.shippingInfo[0].shippingServiceCost[0].__value__ == undefined">N/A</td>
								<td ng-if = "detail.shippingInfo[0].shippingServiceCost[0].__value__ == 0">Free Shipping</td>
								<td ng-if = "detail.shippingInfo[0].shippingServiceCost[0].__value__ > 0">${{detail.shippingInfo[0].shippingServiceCost[0].__value__}}</td>
								
								<td ng-if = "detail.postalCode[0] != undefined">{{detail.postalCode[0]}}</td>
								<td ng-if = "detail.postalCode[0] == undefined">N/A</td>
								<td ng-if = "detail.sellerInfo[0].sellerUserName[0] == undefined">N/A</td>
								<td ng-if = "detail.sellerInfo[0].sellerUserName[0] != undefined">{{detail.sellerInfo[0].sellerUserName[0]}}</td>
								<td><button ng-click = "setItemForWishList(detail)" class="material-icons" id = "{{detail.itemId}}">
									<span ng-class = "{cartIcon: detail.actionToPerform === 'remove_shopping_cart'}">{{detail.actionToPerform}}</span>
								</button>
								</td>
							</tr>
						</table>
					</div>
					<br>

					<!--pagination class = "pagination" total-items="maxValOfPagination" ng-model="currentPage" class="pagination-sm" items-per-page="itemsPerPage"></pagination-->
					
					<div class = "marginForPagination">
						<ul class="pagination" id = "menu">
							<li ng-class = "{disableList : currentPage === 1}" style = "white-space: nowrap; cursor:pointer" class = "prevNext"><a ng-click = "setPage(currentPage-1)">&laquo; Previous</a></li>
				        	<li ng-repeat="page in numOfPagesArray" ng-class="{'activePage':currentPage == page}"><a ng-click="setPage(page)" class = "hoverOverList" style="cursor:pointer">{{page}}</a></li>
				        	<li ng-class = "{disableList : currentPage === numOfPagesArray.length}" style = "white-space: nowrap; cursor:pointer" class = "prevNext"><a ng-click = "setPage(currentPage+1)">Next &raquo;</a></li>
				    	</ul>
			    	</div>
			    	

					<br><br>

				</div>

				<div ng-if = "products.length == 0" ng-show = "showResultsTable == true">
						<error-div></error-div>
				</div>

				<!--script>
					$(document).ready(function(){
			    		$('[data-toggle = "tooltip"]').tooltip();
					});
				</script-->

				<div ng-if = "wishListItemsAvailable == true">
					<div class = "float-right">
						<button type = "button" class = "btn btn-light" ng-disabled = "!isWishListProductClicked" ng-click = "detailButtonClicked('wishList')">Detail<i class="material-icons">keyboard_arrow_right</i></button> 
					</div>
					<br>
					<div class = "table-responsive" ng-if = "psuedoLocalStorage > 0 && wishListItemsAvailable == true">
						<table ng-init = "wish" ng-if = "psuedoLocalStorage > 0 && wishListItemsAvailable == true" class = "table table-dark table-striped" class = "tableStyle">
							<tr>
								<td><b>#</b></td>
								<td><b>Image</b></td>
								<td><b>Title</b></td>
								<td><b>Price</b></td>
								<td><b>Shipping Option</b></td>
								<td><b>Seller</b></td>
								<td><b>Wish List</b></td>
							</tr>
							<tr ng-repeat = "detail in wish" ng-class = "{selectedRow : detail.itemId[0] === wishListItemId}">
								<td>{{$index+1}}</td>
								<td>
									<a ng-if = "detail.galleryURL !== undefined" target = "_blank" href = "{{detail.galleryURL[0]}}"><img ng-src = "{{detail.galleryURL[0]}}"></a>
									<a ng-if = "detail.galleryURL == undefined" href>N/A</a>
								</td>
								<td><a href ng-click = "productClicked(detail, 'wishList')" data-toggle = "tooltip" title = "{{detail.title[0]}}" data-placement = "bottom" onmouseover="$(this).tooltip()">{{detail.modifiedTitle}}</a></td>
								<td>${{detail.sellingStatus[0].currentPrice[0].__value__}}</td>
								<td ng-if = "detail.shippingInfo[0].shippingServiceCost[0].__value__ == undefined">N/A</td>
								<td ng-if = "detail.shippingInfo[0].shippingServiceCost[0].__value__ == 0">Free Shipping</td>
								<td ng-if = "detail.shippingInfo[0].shippingServiceCost[0].__value__ > 0">${{detail.shippingInfo[0].shippingServiceCost[0].__value__}}</td>
								<td ng-if = "detail.sellerInfo[0].sellerUserName[0] == undefined">N/A</td>
								<td ng-if = "detail.sellerInfo[0].sellerUserName[0] != undefined">{{detail.sellerInfo[0].sellerUserName[0]}}</td>
								<td><button ng-click = "removeItemFromWishList(detail, $index)" class="material-icons" id = "{{detail.itemId}}"><span ng-class = "{cartIcon: detail.actionToPerform === 'remove_shopping_cart'}">{{detail.actionToPerform}}</span></button></td>
							</tr>
							<tr>
								<td colspan = "6" style = "text-align:right"><b>Total Shopping </b></td>
								<td><b>${{total}}</b></td>
							</tr>
						</table>
					</div>
				
					<div ng-if = "psuedoLocalStorage == 0" ng-show = "wishListItemsAvailable == true">
						<br>
						<error-div></error-div>
					</div>
				</div>
			</div>

			<!--#629294-->
			<div ng-if = "showProductDetailsWithTab == true" class = "slideDivs" ng-hide = "SecondToFirst">
				<div ng-show = "showProductDetailsWithTab == true">
					<div>
						<div style = "text-align:center"><h5><b>{{titleOfProduct}}</b></h5></div>
					</div>
					<br>
					<div>
						<button type = "button" class = "btn btn-light float-left" ng-click = "goToPreviousList()"><i class="material-icons">keyboard_arrow_left</i>List</button>
						<!--div class = "row d-flex justify-content-end"-->
						<div class = "row float-right" style="margin-right:4%">
							<!--button class = "btn"><img src = "http://csci571.com/hw/hw8/Images/facebook.png" style = "height: 50px; width: 50px; margin-top:-5%" data-name = "{{detailOfProduct}}" id = "fbImage" ng-click = "facebookImageClicked()"></button-->
							<button class = "btn"><a target = "_blank" href = "{{facebookApiCall}}"><img src = "http://csci571.com/hw/hw8/Images/facebook.png" style = "height: 50px; width: 50px; margin-top:-5%" data-name = "{{detailOfProduct}}" id = "fbImage"></a></button>
							<button ng-click = "setItemForWishList(detailOfProduct)" class = "material-icons" style = "height: 50px; width: 50px; margin-top:2%"><span ng-class = "{cartIcon: detailOfProduct.actionToPerform === 'remove_shopping_cart'}">{{detailOfProduct.actionToPerform}}</span></button>
						</div>
						<br><br><br>
						<div class = "float:right">
							<ul class="nav justify-content-end">
						  		<li id = "productsTab" class="nav-item bg-dark" onclick = "changeColorOfTab('productsTab', 'productLink')" style = "margin:1px">
						    		<a class="nav-link active whiteLink paddingNavs" href ng-click = "productTabClicked()" id = "productLink"><b>Product</b></a>
						  		</li>
						  		<li id = "photosTab" class="nav-item bg-light" onclick = "changeColorOfTab('photosTab', 'photosLink')" style = "margin:1px">
						    		<a class="nav-link blackLink paddingNavs" href ng-click = "photosTabClicked()" id = "photosLink"><b>Photos</b></a>
						  		</li>
						  		<li id = "shippingTab" class="nav-item bg-light" onclick = "changeColorOfTab('shippingTab', 'shippingLink')" style = "margin:1px">
						    		<a class="nav-link blackLink paddingNavs" href ng-click = "shippingTabClicked()" id = "shippingLink"><b>Shipping</b></a>
						  		</li>
						  		<li id = "sellerTab" class="nav-item bg-light" onclick = "changeColorOfTab('sellerTab', 'sellerLink')" style = "margin:1px">
						    		<a class="nav-link blackLink paddingNavs" href ng-click = "sellerTabClicked()" id = "sellerLink"><b>Seller</b></a>
						  		</li>
						  		<li id = "similarItemsTab" class="nav-item bg-light" style = "margin:2px">
						    		<a class="nav-link blackLink largeScreen paddingNavs" href ng-click = "similarTabClicked()" id = "similarItemsLink" onclick = "changeColorOfTab('similarItemsTab', 'similarItemsLink')"><b>Similar Products</b></a>
						    		<a class="nav-link blackLink smallScreen paddingNavs" href ng-click = "similarTabClicked()" id = "relatedItemsLink" onclick = "changeColorOfTab('similarItemsTab', 'relatedItemsLink')"><b>Related</b></a>
						    	</li>
							</ul>
							<br>
						</div>
					</div>

					<div ng-if = "individualProducts !== undefined" ng-show = "productDetails == true" class = "table-responsive">
						<table class = "table table-striped table-dark whiteSpaceForProducts">
							<tr ng-if = "individualProducts.PictureURL.length > 0 && individualProducts.PictureURL !== undefined">
								<td class = "whiteSpaceForProducts"><b>Product Images</b></td>
								<td class = "whiteSpaceForProducts"><a href data-target = "#productImagesModal" data-toggle = "modal" ng-click = "viewProductImages()" style = "color: #1aff1a">View Product Images Here</a></td> 
							</tr>
							<tr ng-if = "individualProducts.Subtitle !== undefined">
								<td class = "whiteSpaceForProducts"><b>Subtitle</b></td>
								<td class = "whiteSpaceForProducts">{{individualProducts.Subtitle}}</td>
							</tr>
							<tr ng-if = "individualProducts.CurrentPrice.Value !== undefined">
								<td class = "whiteSpaceForProducts"><b>Price</b></td>
								<td class = "whiteSpaceForProducts">${{individualProducts.CurrentPrice.Value}}</td>
							</tr>
							<tr ng-if = "individualProducts.Location !== undefined">
								<td class = "whiteSpaceForProducts"><b>Location</b></td>
								<td class = "whiteSpaceForProducts">{{individualProducts.Location}}</td>
							</tr>
							<tr ng-if = "individualProducts.ReturnPolicy !== undefined && individualProducts.ReturnPolicy.ReturnsAccepted !== undefined">
								<td class = "whiteSpaceForProducts"><b>Return Policy</b></td>
								<td class = "whiteSpaceForProducts">{{individualProducts.ReturnPolicy.ReturnsAccepted}} <span ng-if = "individualProducts.ReturnPolicy.ReturnsWithin !== undefined"> within {{individualProducts.ReturnPolicy.ReturnsWithin}}</span></td>
							</tr>
							<tr ng-if = "individualProducts.ItemSpecifics !== undefined && itemSpecifics !== undefined" ng-repeat = "detail in itemSpecifics">
								<td style = "white-space: normal; word-wrap: break-word;"><b>{{detail.Name}}</b></td>
								<td style = "white-space: normal; word-wrap: break-word;">{{detail.Value}}</td>
							</tr>
						</table>
					</div>

					<div ng-if = "individualProducts == undefined" ng-show = "productDetails == true">
						<error-div></error-div>
					</div>

					<div id="productImagesModal" class="modal fade" role="dialog">
						<div class="modal-dialog">
						   	<!-- Modal content-->
						    <div class="modal-content">
						    	<div class="modal-header">
						    		<h4 class="modal-title"><b>Product Images</b></h4>
						    		<button type="button" class="close" data-dismiss="modal">&times;</button>
						    	</div>

						     	<!--div class="modal-body" style = "width:360px height: 400px"-->
						     	<div class="modal-body">
							      	<div id="carouselExampleControls" class="carousel slide" data-interval = "false">
									    <div class="carousel-inner" id = "modalCarousel">
									      <div class="carousel-item active modalImageBorders">
									        <a target = "_blank" href = "{{showImage}}"><img class="d-block w-100" src="{{showImage}}" alt="First slide" class = "modalHeight">
									      </div>
									      <div ng-if = "productImages.length > 1" class="carousel-item modalImageBorders" ng-repeat = "showImages in productImages | limitTo : productImages.length : 1">
									        <a target = "_blank" href = "{{showImages}}"><img class="d-block w-100" src="{{showImages}}" alt="Second slide" class = "modalHeight">
									      </div>
									    </div>
									    <a class="carousel-control-prev" href="#carouselExampleControls" ng-non-bindable role="button" data-slide="prev">
									      	<span class="carousel-control-prev-icon bg-dark" aria-hidden="true"></span>
									      	<span class="sr-only">Previous</span>
									    </a>
									    <a class="carousel-control-next"  ng-non-bindable href="#carouselExampleControls" role="button" data-slide="next">
									      <span class="carousel-control-next-icon bg-dark" aria-hidden="true"></span>
									      <span class="sr-only">Next</span>
									    </a>
									  </div>
						  		</div>
						      	<div class="modal-footer">
						        	<button type="button" class="btn btn-dark" data-dismiss="modal">Close</button>
						      	</div>
						    </div>

						</div>
					</div>

					<!--script>
						if($('#modalCarousel div').length <= 1){
							$('.carousel-control-prev').css('display', 'none');
							$('.carousel-control-next').css('display', 'none');
						}
					</script-->

					<table ng-if = "shippingInfoAvailable == true" ng-show = "shippingDetails == true" class = "table table-striped table-dark" class = "tableStyle" style = "whiteSpaceForProducts">
						<tr ng-if = "shippingTab[0].shippingServiceCost[0] !== undefined && shippingTab[0].shippingServiceCost[0].__value__ !== undefined">
							<td style = "whiteSpaceForProducts"><b>Shipping Cost</b></td>
							<td style = "whiteSpaceForProducts" ng-if = "shippingTab[0].shippingServiceCost[0].__value__ == 0">Free Shipping</td>
							<td style = "whiteSpaceForProducts" ng-if = "shippingTab[0].shippingServiceCost[0].__value__ > 0">${{shippingTab[0].shippingServiceCost[0].__value__}}</td>
						</tr>
						<tr ng-if = "shippingTab[0].shipToLocations !== undefined">
							<td style = "whiteSpaceForProducts"><b>Shipping Locations</b></td>
							<td style = "whiteSpaceForProducts">{{shippingTab[0].shipToLocations[0]}}</td>
						</tr>
						<tr ng-if = "shippingTab[0].handlingTime !== undefined">
							<td style = "whiteSpaceForProducts"><b>Handling Time</b></td>
							<td style = "whiteSpaceForProducts" ng-if = "shippingTab[0].handlingTime[0] <= 1">{{shippingTab[0].handlingTime[0]}} day</td>
							<td style = "whiteSpaceForProducts" ng-if = "shippingTab[0].handlingTime[0] > 1">{{shippingTab[0].handlingTime[0]}} days</td>
						</tr>
						<tr ng-if = "shippingTab[0].expeditedShipping !== undefined">
							<td style = "whiteSpaceForProducts"><b>Expedited Shipping</b></td>
							<td style = "whiteSpaceForProducts" ng-if = "shippingTab[0].expeditedShipping[0] == 'true'"><span class = "greenStyle"><i class = "material-icons">done</i><span></td>
							<td style = "whiteSpaceForProducts" ng-if = "shippingTab[0].expeditedShipping[0] == 'false'"><span class = "redStar"><i class = "material-icons">clear</i></span></td>
						</tr>
						<tr ng-if = "shippingTab[0].oneDayShippingAvailable !== undefined">
							<td style = "whiteSpaceForProducts"><b>One Day Shipping</b></td>
							<td style = "whiteSpaceForProducts" ng-if = "shippingTab[0].oneDayShippingAvailable[0] == 'true'"><span class = "greenStyle"><i class = "material-icons">done</i><span></td>
							<td style = "whiteSpaceForProducts" ng-if = "shippingTab[0].oneDayShippingAvailable[0] == 'false'"><span class = "redStar"><i class = "material-icons">clear</i></span></td>
						</tr>
						<tr ng-if = "returnsAcceptedForShippingTab !== undefined">
							<td><b>Return Accepted</b></td>
							<td ng-if = "returnsAcceptedForShippingTab[0] == 'true'"><span class = "greenStyle"><i class = "material-icons">done</i><span></td>
							<td ng-if = "returnsAcceptedForShippingTab[0] == 'false'"><span class = "redStar"><i class = "material-icons">clear</i></span></td>
						</tr>
					</table>

					<div ng-if = "shippingInfoAvailable == false">
						<error-div></error-div>
					</div>

					<table ng-if = "sellerInfoAvailable == true && sellerInfo !== undefined" ng-show = "sellerDetails == true" class = "table table-striped table-dark" class = "tableStyle">
						<tr ng-if = "sellerInfo.UserID !== undefined">
							<th colspan = "2">{{sellerInfo.UserID}}</th>
						</tr>
						<tr ng-if = "sellerInfo.FeedbackScore !== undefined">
							<td style = "whiteSpaceForProducts"><b>Feedback Score</b></td>
							<td style = "whiteSpaceForProducts">{{sellerInfo.FeedbackScore}}</td>
						</tr>
						<tr ng-if = "sellerInfo.PositiveFeedbackPercent !== undefined">
							<td><b>Popularity</b></td>
							<td>
								<div class = "progress-wrapper">
									<div ng-class = "{currentSingle:sellerInfo.PositiveFeedbackPercent<10, currentDouble : sellerInfo.PositiveFeedbackPercent > 9}" ng-style = "getOverlayStyle()">{{sellerInfo.PositiveFeedbackPercent}}
									</div>
									<round-progress max="100" current="sellerInfo.PositiveFeedbackPercent" color="#228B22" bgcolor="#ffffff" radius="22" stroke="3" semi="false" rounded="true" clockwise="true" responsive="false" duration="0" animation="easeInOutQuart" animation-delay="0"></round-progress>
								</div>
							</td>
						</tr>
						<tr ng-if = "sellerInfo.FeedbackRatingStar !== undefined">
							<td><b>Feedback Rating Star</b></td>
							<td ng-if = "feedbackScore > 10000"><span style = "color : {{starColor}}"><i class = "material-icons">stars</i></span></td>
							<td ng-if = "feedbackScore <= 10000"><span style = "color : {{starColor}}"><i class = "material-icons">star_border</i></span></td>
						</tr>
						<tr ng-if = "sellerInfo.TopRatedSeller !== undefined">
							<td style = "whiteSpaceForProducts"><b>Top Rated</b></td>
							<td style = "whiteSpaceForProducts" ng-if = "sellerInfo.TopRatedSeller === true"><span class = "greenStyle"><i class = "material-icons">done</i></span></td>
							<td style = "whiteSpaceForProducts" ng-if = "sellerInfo.TopRatedSeller === false"><span class = "redStar"><i class = "material-icons">clear</i></span></td>
						</tr>
						<tr ng-if = "storeFront.StoreName !== undefined">
							<td style = "whiteSpaceForProducts"><b>Store Name</b></td>
							<td style = "whiteSpaceForProducts">{{storeFront.StoreName}}</td>
						</tr>
						<tr ng-if = "storeFront.StoreURL !== undefined">
							<td style = "whiteSpaceForProducts"><b>Buy Product At</b></td>
							<td style = "whiteSpaceForProducts"><a target = "_blank" href = "{{storeFront.StoreURL}}">Store</a></td>
						</tr>
					</table>

					<div ng-if = "sellerInfoAvailable == false || sellerInfo == undefined" ng-show = "sellerDetails == true">
						<error-div></error-div>
					</div>

					<div ng-if = "similarItems.length > 0" ng-show = "similarItemDetails == true">
						<!--select class = "custom-select col-md-2 col-sm-12" id = "sortParameter" ng-model = "sortParameter">
							<option ng-value = '' ng-click = "sortSimilarItems('default')" selected = selected>Default</option>
							<option ng-value = 'title' ng-click = "sortSimilarItems('title')">Product Name</option>
							<option ng-value = 'timeLeft' ng-click = "sortSimilarItems('timeLeft')">Days Left</option>
							<option ng-value = 'price' ng-click = "sortSimilarItems('price')">Price</option>
							<option ng-value = 'shippingCost' ng-click = "sortSimilarItems('shippingCost')">Shipping Cost</option>
						</select>

						<select ng-disabled = "sortingParameter === ''" class = "custom-select col-md-2 col-sm-12" id = "ascendingOrDescending" ng-model = "ascendingOrDescending">
							<option value = 'Ascending' ng-click = "decideOrdering('ascending')" selected = selected>Ascending</option>
							<option value = 'Descending' ng-click = "decideOrdering('descending')">Descending</option>
						</select-->
						<div class = "row tableStyle">
							<div class = "col-md-2 col-sm-12">
								<select class = "custom-select" ng-model = "selectedParameter" ng-change = "sortSimilarItemsNew(selectedParameter)">
									<option value = "Default">Default</option>
									<option value = "title">Product Name</option>
									<option value = "timeLeft">Days Left</option>
									<option value = "price">Price</option>
									<option value = "shippingCost">Shipping Cost</option>
								</select>
							</div>

							<div class = " col-md-2 col-sm-12">
								<select class = "custom-select" ng-disabled = "defaultSorting == 'Default'" ng-model = "selectedOrdering" ng-change = "decideOrderingOfList(selectedOrdering)">
									<option value = "Ascending">Ascending</option>
									<option value = "Desccending">Descending</option>
								</select>
							</div>
						</div>
						<br>

						<div class = "tableStyle">
						<table>
							<tr>
								<!--div class = "bg-dark text-white" ng-repeat = "detail in similarItems | orderBy : sortingParameter : orderToSort | limitTo : limitValue" class = "tableStyle"-->
								<div class = "bg-dark text-white tableStyle" ng-repeat = "detail in similarItems | orderBy : sortingType : newOrderForSorting | limitTo : limitValue">
									<div class = "row" style = "margin:1%; padding-bottom: 10px; padding-top:10px">
										<a ng-if = "detail.imageURL !== undefined || detail.imageURL !== null" target = "_blank" href = "{{detail.imageURL}}"><img ng-src = "{{detail.imageURL}}" class = "float-left imageSize" style = "padding-left: 15px; padding-top: 10px; padding-right:15px; padding-bottom: 10px"></a>
										<a ng-if = "detail.imageURL == undefined || detail.imageURL == null" href>N/A</a><br>
										<div class = "col-sm-8">
											<a target = "_blank" href = "{{detail.viewItemURL}}"><font color = "#0066cc">Title: {{detail.title}}</font></a><br>
											<span ng-if = "detail.price !== undefined"><font color = "#00e600">Price: ${{detail.price}}</font></span><br>
											<span ng-if = "detail.shippingCost !== undefined"><font color = "#ffcc00">Shipping Cost: ${{detail.shippingCost}}</font></span><br>
											<span ng-if = "detail.timeLeft !== undefined">Days Left: {{detail.timeLeft}}</span><br>
										</div>
									</div>
								</div>
								<div style = "text-align: center;" ng-if = "similarItems.length > 5 && limitValue == 5">
									<button class = "bg-dark text-white" ng-click = "showMore()" id = "showMore">
										Show More
									</button>
								</div>
								<div ng-if = "similarItems.length > 5 && limitValue > 5" style = "text-align: center">
									<button class = "bg-dark text-white" ng-click = "showLess()" id = "showLess">
										Show Less
									</button>
								</div>
								<br><br>
							</tr>
						</table>
						</div>
					</div>

					<div ng-if = "similarItems.length == 0" ng-show = "similarItemDetails == true">
						<error-div></error-div>
					</div>

					<div ng-if = "validPhotos" ng-show = "photos == true">
						<div>
							<div class = "row tableStyle">
								<div class = "column">
									<a ng-if = "0 < photosDetails.length" target = "_blank" href = "{{photosDetails[0].link}}"><img class = "imageBorders" ng-src = "{{photosDetails[0].link}}" style = "width: 100%"></a>
									<a ng-if = "3 < photosDetails.length" target = "_blank" href = "{{photosDetails[3].link}}"><img class = "imageBorders" ng-src = "{{photosDetails[3].link}}" style = "width: 100%"></a>
								</div>
								<div class = "column">
									<a ng-if = "1 < photosDetails.length" target = "_blank" href = "{{photosDetails[1].link}}"><img class = "imageBorders" ng-src = "{{photosDetails[1].link}}" style = "width: 100%"></a>
									<a ng-if = "4 < photosDetails.length" target = "_blank" href = "{{photosDetails[4].link}}"><img class = "imageBorders" ng-src = "{{photosDetails[4].link}}" style = "width: 100%"></a>
									<a ng-if = "6 < photosDetails.length" target = "_blank" href = "{{photosDetails[6].link}}"><img class = "imageBorders" ng-src = "{{photosDetails[6].link}}" style = "width: 100%"></a>
								</div>
								<div class = "column">
									<a ng-if = "2 < photosDetails.length" target = "_blank" href = "{{photosDetails[2].link}}"><img class = "imageBorders" ng-src = "{{photosDetails[2].link}}" style = "width: 100%"></a>
									<a ng-if = "5 < photosDetails.length" target = "_blank" href = "{{photosDetails[5].link}}"><img class = "imageBorders" ng-src = "{{photosDetails[5].link}}" style = "width: 100%"></a>
									<a ng-if = "7 < photosDetails.length" target = "_blank" href = "{{photosDetails[7].link}}"><img class = "imageBorders" ng-src = "{{photosDetails[7].link}}" style = "width: 100%"></a>
								</div>
							</div>
						</div>
					</div>

					<div ng-if = "!validPhotos" ng-show = "photos == true">
						<error-div></error-div>
					</div>

			</div>
		</div>

	
	</body>
</html>